<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>StarRoot - Power Monitoring</title>
    <!-- 공통 라이브러리 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- 스타일 시트 -->
    <link href="/css/index.css" rel="stylesheet">
</head>
<body class="dashboard-body">

<!-- 헤더 -->
<div th:replace="~{fragments/header :: header}"></div>

<!-- 1. 페이지 히어로 -->
<!-- 팁: url('') 안에 원하시는 이미지 경로를 넣으세요! -->
<section class="page-hero" style="background-image: linear-gradient(to bottom, rgba(15, 23, 42, 0.9), var(--primary-bg)), url('/images/solutions/solutions_Power Monitoring.png');">
    <div class="container position-relative z-1">
        <h1 class="page-title">POWER MONITORING</h1>
        <p class="page-subtitle">
            에너지 효율은 곧 비용 절감입니다.<br>
            실시간 전력 사용량 분석과 지능형 PUE 관리로 그린 데이터센터를 실현합니다.
        </p>
    </div>
</section>

<!-- 2. 핵심 가치 -->
<section class="py-5">
    <div class="container py-4">
        <div class="row g-4">
            <div class="col-md-4">
                <div class="glass-box feature-box text-center">
                    <i class="bi bi-lightning-charge feature-icon"></i>
                    <h4 class="text-white fw-bold mb-3">PUE Analytics</h4>
                    <p class="text-white-50">
                        데이터센터의 전력 효율 지수(PUE)를 실시간으로 산출합니다.
                        낭비되는 에너지를 시각화하여 운영 비용을 획기적으로 절감할 수 있습니다.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="glass-box feature-box text-center">
                    <i class="bi bi-graph-up-arrow feature-icon"></i>
                    <h4 class="text-white fw-bold mb-3">Smart Metering</h4>
                    <p class="text-white-50">
                        전체 센터부터 랙 단위, 장비 단위까지 정밀한 전력 소비량을 측정합니다.
                        예상치 못한 과부하를 사전에 감지하여 정전을 예방하세요.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="glass-box feature-box text-center">
                    <i class="bi bi-battery-charging feature-icon"></i>
                    <h4 class="text-white fw-bold mb-3">UPS Backup</h4>
                    <p class="text-white-50">
                        비상 상황 시 최후의 보루인 UPS 가동 상태와 배터리 수명을 24시간 감시합니다.
                        어떤 상황에서도 무중단 비즈니스를 보장합니다.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 3. 시각적 신뢰 섹션 (수정됨: 목업 대신 차트 적용) -->
<section class="py-5 mb-5">
    <div class="container">
        <div class="stat-card">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h3 class="section-header text-cyan mb-3">SUSTAINABLE ENERGY</h3>
                    <h5 class="text-white fw-bold mb-4">보이지 않는 전력 흐름을<br>한눈에 파악하세요.</h5>
                    <ul class="list-unstyled text-white-50">
                        <li class="mb-3"><i class="bi bi-check-circle-fill text-success me-2"></i> 실시간 탄소 배출량 모니터링</li>
                        <li class="mb-3"><i class="bi bi-check-circle-fill text-success me-2"></i> 월별 예상 전기 요금 시뮬레이션</li>
                        <li class="mb-3"><i class="bi bi-check-circle-fill text-success me-2"></i> 임계치 도달 시 자동 부하 분산(Load Balancing)</li>
                    </ul>
                    <a href="#" class="btn btn-login mt-3">
                        에너지 리포트 예시 <i class="bi bi-file-earmark-bar-graph"></i>
                    </a>
                </div>

                <!-- [변경됨] 목업 영역 -> 실제 차트 영역 -->
                <div class="col-lg-6 mt-4 mt-lg-0">
                    <div class="glass-box p-4" style="border: 1px solid rgba(6,182,212,0.3); background: rgba(15, 23, 42, 0.6);">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h6 class="text-white fw-bold mb-0"><i class="bi bi-activity text-cyan me-2"></i>Real-time Power Usage</h6>
                            <span class="badge bg-success bg-opacity-25 text-success border border-success border-opacity-25">Live</span>
                        </div>
                        <!-- 차트 캔버스 -->
                        <div style="height: 300px;">
                            <canvas id="powerTrendChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 푸터 -->
<div th:replace="~{fragments/footer :: footer}"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Chart.js 라이브러리 추가 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- 차트 생성 스크립트 -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const ctx = document.getElementById('powerTrendChart').getContext('2d');

        // 그라데이션 효과 (Cyan 색상)
        const gradient = ctx.createLinearGradient(0, 0, 0, 300);
        gradient.addColorStop(0, 'rgba(6, 182, 212, 0.5)'); // 위쪽: 밝은 Cyan
        gradient.addColorStop(1, 'rgba(6, 182, 212, 0.0)'); // 아래쪽: 투명

        new Chart(ctx, {
            type: 'line',
            data: {
                // 가상의 시간 데이터 (X축)
                labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '24:00'],
                datasets: [{
                    label: 'Total Power (kW)',
                    data: [120, 115, 140, 180, 170, 150, 130], // 가상의 전력량 데이터
                    borderColor: '#06b6d4', // 선 색상 (Cyan)
                    backgroundColor: gradient, // 배경 그라데이션
                    borderWidth: 2,
                    tension: 0.4, // 부드러운 곡선
                    fill: true,   // 아래 채우기
                    pointBackgroundColor: '#0f172a',
                    pointBorderColor: '#06b6d4',
                    pointBorderWidth: 2,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false // 범례 숨김 (깔끔하게)
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'rgba(15, 23, 42, 0.9)',
                        titleColor: '#fff',
                        bodyColor: '#cbd5e1',
                        borderColor: 'rgba(255,255,255,0.1)',
                        borderWidth: 1
                    }
                },
                scales: {
                    x: {
                        grid: {
                            color: 'rgba(255, 255, 255, 0.05)' // 격자선 연하게
                        },
                        ticks: {
                            color: '#94a3b8' // 글자색
                        }
                    },
                    y: {
                        grid: {
                            color: 'rgba(255, 255, 255, 0.05)'
                        },
                        ticks: {
                            color: '#94a3b8',
                            callback: function(value) {
                                return value + ' kW';
                            }
                        }
                    }
                },
                interaction: {
                    mode: 'nearest',
                    axis: 'x',
                    intersect: false
                }
            }
        });
    });
</script>
</body>
</html>