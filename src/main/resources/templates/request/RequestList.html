<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ìš”ì²­ ê´€ë¦¬</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>

<div class="container mt-5">
    <h2 class="mb-4">ğŸ”” ì…ì£¼ ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡</h2>
    <div class="mb-3 text-end">
        <a href="/" class="btn btn-secondary">ğŸ  í™ˆìœ¼ë¡œ</a>
    </div>

    <div class="alert alert-info" th:if="${requests.isEmpty()}">
        í˜„ì¬ ëŒ€ê¸° ì¤‘ì¸ ì‹ ì²­ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.
    </div>

    <div class="row row-cols-1 row-cols-md-2 g-4">

        <div class="col" th:each="req : ${requests}">

            <div class="card border-warning h-100 shadow-sm">
                <div class="card-header bg-warning text-dark d-flex justify-content-between align-items-center">
                    <div>
                        <span class="badge bg-dark me-1">WAITING</span>
                        <strong>No. [[${req.id}]]</strong>
                    </div>
                    <small>ì‹ ì²­ì¼: [[${#temporals.format(req.reqDate, 'yyyy-MM-dd')}]]</small>
                </div>

                <div class="card-body">
                    <h5 class="card-title fw-bold">íšŒì‚¬ëª…: [[${req.companyName}]] <small class="text-muted fs-6">íšŒì‚¬ë²ˆí˜¸: ([[${req.companyPhone}]])</small></h5>
                    <p class="card-text mb-1"><strong>ë‹´ë‹¹ì:</strong> [[${req.userName}]] (ì—°ë½ì²˜: [[${req.contact}]])</p>

                    <hr>

                    <p class="card-text mb-1"><strong>ì¥ë¹„ëª…:</strong> [[${req.vendor}]] [[${req.modelName}]] ([[${req.heightUnit}]]U)</p>

                    <!-- â­ [ì¶”ê°€] ì „ë ¥ ë° EMS ì •ë³´ í‘œì‹œ -->
                    <p class="card-text mb-1">
                        <strong>ì „ë ¥/EMS:</strong>
                        <span class="text-danger fw-bold">[[${req.powerWatt}]] W</span> /
                        <span th:if="${req.emsStatus == 'ON'}" class="badge bg-success">EMS ì‹ ì²­</span>
                        <span th:unless="${req.emsStatus == 'ON'}" class="badge bg-secondary">EMS ë¯¸ì‹ ì²­</span>
                    </p>

                    <p class="card-text mb-1"><strong>ê³„ì•½ê¸°ê°„:</strong> [[${req.startDate}]] (ê³„ì•½: [[${req.termMonth}]]ê°œì›”)</p>
                    <p class="card-text mb-1"><strong>ì…ê³  ëª©ì :</strong></p>
                    <p class="card-text bg-light p-2 rounded">[[${req.purpose}]]</p>

                    <div class="d-flex gap-2 mt-3">
                        <a th:href="@{/racks(reqId=${req.id})}" class="btn btn-primary flex-grow-1">
                            ğŸ” ìë¦¬ ë°°ì • (ìŠ¹ì¸)
                        </a>

                        <a th:href="@{/requests/{id}/reject(id=${req.id})}"
                           class="btn btn-outline-danger flex-grow-1"
                           onclick="return confirm('ì´ ì‹ ì²­ì„ ë°˜ë ¤í•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                            â›” ë°˜ë ¤
                        </a>
                    </div>
                </div>
            </div>

        </div> </div> </div>

</body>
</html>