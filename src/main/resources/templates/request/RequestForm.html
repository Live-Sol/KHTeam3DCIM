<!-- ì‹ ì²­ì„œì˜ [ê³ ê°] ì´ ë³´ëŠ” í™”ë©´ -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì…ì£¼ ì‹ ì²­</title>
    <!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-5" style="max-width: 600px;">
    <div class="card shadow">
        <div class="card-header bg-success text-white">
            <h3 class="mb-0">ğŸ“ ì¥ë¹„ ì…ì£¼ ì‹ ì²­ì„œ</h3>
        </div>
        <div class="card-body">
            <form action="/requests/new" method="post">

                <h5 class="mb-3 text-secondary">1. ì‹ ì²­ì ì •ë³´</h5>
                <div class="mb-3">
                    <label>ì‹ ì²­ì ì´ë¦„ (íšŒì‚¬ëª…)</label>
                    <input type="text" name="userName" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label>ì—°ë½ì²˜</label>
                    <input type="text" name="contact" class="form-control" placeholder="010-0000-0000">
                </div>

                <hr>

                <h5 class="mb-3 text-secondary">2. ì¥ë¹„ ì •ë³´</h5>
                <!-- ì¥ë¹„ ì¹´í…Œê³ ë¦¬ ì„ íƒ -->
                <div class="mb-3">
                    <label>ì¥ë¹„ ì¢…ë¥˜</label>
                    <!-- categories ëŠ” RequestController ì—ì„œ ëª¨ë¸ë¡œ ë„˜ê²¨ì¤€ ë¦¬ìŠ¤íŠ¸ -->
                    <select name="cateId" class="form-select" required>
                        <option value="" disabled selected>---------- ì¥ë¹„ ì¢…ë¥˜ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš” ----------</option>
                        <option th:each="category : ${categories}"
                                th:value="${category.id}"
                                th:text="${category.name}"></option>
                    </select>
                </div>
                <div class="row">
                    <!-- ì¥ë¹„ ì œì¡°ì‚¬ ì…ë ¥ -->
                    <div class="col-6 mb-3">
                        <label>ì œì¡°ì‚¬</label>
                        <input type="text" name="vendor" class="form-control" placeholder="ì˜ˆ: Dell, HP" required>
                    </div>
                    <!-- ì¥ë¹„ ëª¨ë¸ëª… ì…ë ¥ -->
                    <div class="col-6 mb-3">
                        <label>ëª¨ë¸ëª…</label>
                        <input type="text" name="modelName" class="form-control" placeholder="ì˜ˆ: PowerEdge R740" required>
                    </div>
                </div>
                <!-- [ìˆ˜ì •ë¨] ì¥ë¹„ ë†’ì´ ì„ íƒ (ë¼ë””ì˜¤ ë²„íŠ¼ + ê¸°íƒ€) -->
                <div class="mb-3">
                    <label class="form-label d-block">ì¥ë¹„ ë†’ì´ (Unit)</label>

                    <!-- ì‹¤ì œ ì„œë²„ë¡œ ì „ì†¡ë  ê°’ (Hidden) -->
                    <input type="hidden" id="realHeightUnit" name="heightUnit" value="2">

                    <div class="btn-group w-100 mb-2" role="group">
                        <input type="radio" class="btn-check" name="u_option" id="u1" value="1" onclick="selectUnit(1)">
                        <label class="btn btn-outline-success" for="u1">1 U</label>

                        <input type="radio" class="btn-check" name="u_option" id="u2" value="2" onclick="selectUnit(2)" checked>
                        <label class="btn btn-outline-success" for="u2">2 U (í‘œì¤€)</label>

                        <input type="radio" class="btn-check" name="u_option" id="u3" value="3" onclick="selectUnit(3)">
                        <label class="btn btn-outline-success" for="u3">3 U</label>

                        <input type="radio" class="btn-check" name="u_option" id="u4" value="4" onclick="selectUnit(4)">
                        <label class="btn btn-outline-success" for="u4">4 U</label>

                        <input type="radio" class="btn-check" name="u_option" id="u_etc" value="etc" onclick="enableEtc()">
                        <label class="btn btn-outline-secondary" for="u_etc">ê¸°íƒ€</label>
                    </div>

                    <!-- ê¸°íƒ€ ì„ íƒ ì‹œ í™œì„±í™”ë  ì…ë ¥ì°½ -->
                    <div class="input-group">
                        <span class="input-group-text">ì§ì ‘ ì…ë ¥</span>
                        <input type="number" id="etcInput" class="form-control" min="1" placeholder="ìˆ«ìë§Œ ì…ë ¥ (ì˜ˆ: 3)" disabled oninput="updateEtcValue()">
                        <span class="input-group-text">U</span>
                    </div>
                    <div class="form-text">ì¼ë°˜ì ì¸ ë™ ë§ˆìš´íŠ¸ ì„œë²„ëŠ” 1U, 2U, 3U, 4U ê·œê²©ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</div>
                </div>

                <!-- ì‹ ì²­í•˜ê¸° ë²„íŠ¼ -->
                <div class="d-grid gap-2 mt-4">
                    <button type="submit" class="btn btn-success btn-lg">ì‹ ì²­í•˜ê¸°</button>
                    <a href="/" class="btn btn-secondary btn-lg">ì·¨ì†Œ</a>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- ë¼ë””ì˜¤ ë²„íŠ¼ ë¡œì§ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
    function selectUnit(val) {
        // 1, 2, 4U ì„ íƒ ì‹œ
        document.getElementById('realHeightUnit').value = val;
        document.getElementById('etcInput').value = ''; // ê¸°íƒ€ ì…ë ¥ì°½ ë¹„ìš°ê¸°
        document.getElementById('etcInput').disabled = true; // ê¸°íƒ€ ì…ë ¥ì°½ ë„ê¸°
    }

    function enableEtc() {
        // ê¸°íƒ€ ì„ íƒ ì‹œ
        document.getElementById('etcInput').disabled = false; // ì…ë ¥ì°½ ì¼œê¸°
        document.getElementById('etcInput').focus();
        document.getElementById('realHeightUnit').value = ''; // ê°’ ì´ˆê¸°í™” (ì…ë ¥ ëŒ€ê¸°)
    }

    function updateEtcValue() {
        // ê¸°íƒ€ ì…ë ¥ì°½ì— ìˆ«ì ì“¸ ë•Œë§ˆë‹¤ hidden ê°’ ì—…ë°ì´íŠ¸
        const val = document.getElementById('etcInput').value;
        document.getElementById('realHeightUnit').value = val;
    }
</script>

</body>
</html>